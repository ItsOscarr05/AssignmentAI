# ==============================================================================
# == DEFINITIVE PRODUCTION BACKEND ENVIRONMENT VARIABLES                      ==
# ==============================================================================
#
# This file contains ALL secret environment variables for the PRODUCTION backend.
# This file must be kept secure and should NEVER be exposed publicly.

#-------------------------------------------------------------------------------
# CORE APPLICATION SETTINGS
#-------------------------------------------------------------------------------
# The environment name (e.g., development, staging, production)
ENVIRONMENT=production

# The full public URL of your backend API (e.g., for generating links in emails)
BACKEND_URL=https://api.assignmentai.app

# The full public URL of your frontend application (e.g., for CORS and redirects)
FRONTEND_URL=https://assignmentai.app

#-------------------------------------------------------------------------------
# SECURITY & AUTHENTICATION TOKENS
#-------------------------------------------------------------------------------
# Generate strong, unique random keys for these. (e.g., using: openssl rand -hex 32)
SECRET_KEY=b20fe4d920d5e6f2195ecce2909a1057e11e079138b4171655fe616e30052ad3
JWT_SECRET_KEY=659512c5242df45ca8009f60be735e68e06cd09dac4e6f2b2c46920ff2900eff
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

#-------------------------------------------------------------------------------
# DATABASE (PostgreSQL)
#-------------------------------------------------------------------------------
DB_HOST=db
DB_PORT=5432
DB_USER=assignmentai_user
DB_PASSWORD=WCaPS+l7rs8mmsjw74yn+a6n4rEvrzfo0K4G2Xebn50=
DB_NAME=assignmentai_prod

DATABASE_URL=postgresql://assignmentai_user:WCaPS+l7rs8mmsjw74yn+a6n4rEvrzfo0K4G2Xebn50=@db:5432/assignmentai_prod
SQLALCHEMY_DATABASE_URI=postgresql://assignmentai_user:WCaPS+l7rs8mmsjw74yn+a6n4rEvrzfo0K4G2Xebn50=@db:5432/assignmentai_prod

POSTGRES_USER=assignmentai_user
POSTGRES_PASSWORD=WCaPS+l7rs8mmsjw74yn+a6n4rEvrzfo0K4G2Xebn50=
POSTGRES_DB=assignmentai_prod


#-------------------------------------------------------------------------------
# REDIS (for Caching, Rate Limiting, etc.)
#-------------------------------------------------------------------------------
# You can use REDIS_URL or the individual components. URL is recommended.
REDIS_URL=redis://:$PbXYRjGsIpJGVgvjKraq8jDwwhQNAiAy@$redis-13257.c52.us-east-1-4.ec2.redns.redis-cloud.com:6379/0
# Alternatively, use individual components:
REDIS_HOST=redis-13257.c52.us-east-1-4.ec2.redns.redis-cloud.com
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=PbXYRjGsIpJGVgvjKraq8jDwwhQNAiAy
REDIS_SSL_CERT_REQS=required # e.g., 'required' if using SSL

#-------------------------------------------------------------------------------
# API KEYS & THIRD-PARTY SERVICES
#-------------------------------------------------------------------------------
# -- OpenAI --
OPENAI_API_KEY=your-openai-key-here563nmLQgvs7XXP_Wi-Rujgaqiw4v12lX7uqFuKruK_6VAxw57qFlfGTDfHcGefbwak18lvH0YZT3BlbkFJGYBCRSu5QL1yjbiryxOAp0QoA-Jx60w5s0TgdfGKdvhzr3KlVrEQe4ur_GxE8NtZfqVy9dsUoA

# -- Stripe --
STRIPE_SECRET_KEY=your-stripe-key-here51RYelyBXiGe9D9aVcDDmgxA5mK6PvGFb348aiScjl5mmWLM75bxvrIoWxuxSOonHYIrHKQmCJPMR0shGUl1LWT8K00yO1nw89c
STRIPE_WEBHOOK_SECRET=whsec_0G09tzXwYKYg6BUjxiTA0G3fnBF77hf9

# -- Stripe Price IDs (get from your Stripe Dashboard in Live mode) --
STRIPE_PRICE_FREE=price_1RcJ2cBXiGe9D9aV5MKTJ5sy
STRIPE_PRICE_PLUS=price_1RcJ3DBXiGe9D9aV1NKRRlzE
STRIPE_PRICE_PRO=price_1RcJ3SBXiGe9D9aVuuV4CJhq
STRIPE_PRICE_MAX=price_1RcJ3fBXiGe9D9aVEOcBL0wq

STRIPE_TOKEN_PRICE_1000=price_1RdGvYBXiGe9D9aVMdTXSkaH
STRIPE_TOKEN_PRICE_2000=price_1RdGw6BXiGe9D9aVXPxzmeDn
STRIPE_TOKEN_PRICE_5000=price_1RdGwKBXiGe9D9aVmvMPQD0c
STRIPE_TOKEN_PRICE_10000=price_1RdGwaBXiGe9D9aVnj2PewPx

# -- HaveIBeenPwned (for compromised password checking) --
HAVEIBEENPWNED_API_KEY=your_haveibeenpwned_api_key_if_used

#-------------------------------------------------------------------------------
# AWS Configuration
#-------------------------------------------------------------------------------
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key-id-here
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key-here
AWS_S3_BUCKET=assignmentaibucket

#-------------------------------------------------------------------------------
# OAUTH PROVIDERS
#-------------------------------------------------------------------------------
GOOGLE_CLIENT_ID=your-google-client-id-here
GOOGLE_CLIENT_SECRET=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
GITHUB_CLIENT_ID=Ov23liUeZxK9JblJAfwA
GITHUB_CLIENT_SECRET=1c85b82307012a495609e83467529132a23de6a4

#-------------------------------------------------------------------------------
# PASSWORD & LOGIN SECURITY POLICY
#-------------------------------------------------------------------------------
PASSWORD_MIN_LENGTH=6
PASSWORD_REQUIRE_SPECIAL_CHARS=false
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_HISTORY_SIZE=5
PASSWORD_REUSE_DAYS=365
MAX_LOGIN_ATTEMPTS=5
LOGIN_TIMEOUT_MINUTES=15
SESSION_TIMEOUT_MINUTES=60
MAX_CONCURRENT_SESSIONS=5
REMEMBER_ME_DAYS=30

# -- 2FA Security --
ENABLE_2FA=true
MAX_2FA_ATTEMPTS=3
INITIAL_2FA_BACKOFF_MINUTES=1
MAX_2FA_BACKOFF_MINUTES=16

#-------------------------------------------------------------------------------
# CORS (Cross-Origin Resource Sharing)
#-------------------------------------------------------------------------------
# Comma-separated list of allowed origins.
# Example: https://app.assignmentai.com,https://www.assignmentai.com
ALLOWED_ORIGINS=["https://assignmentai.app","https://www.assignmentai.app","https://api.assignmentai.app"]
FRONTEND_URL=https://assignmentai.app

#-------------------------------------------------------------------------------
# EMAIL (SMTP)
#-------------------------------------------------------------------------------
SMTP_SERVER=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=your-sendgrid-key-here
SMTP_FROM=noreply@assignmentai.com

#-------------------------------------------------------------------------------
# MONITORING & LOGGING
#-------------------------------------------------------------------------------
ENABLE_METRICS=true
PROMETHEUS_MULTIPROC_DIR=/tmp/prometheus
LOGS_DIR=logs
LOG_LEVEL=INFO
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=90
AUDIT_LOG_ROTATION_SIZE=100 # In MB

#-------------------------------------------------------------------------------
# SSL & BACKUPS
#-------------------------------------------------------------------------------
BACKUP_DIR=backups
# SSL settings are typically handled by a reverse proxy (e.g., Nginx, Traefik) in production.
SSL_ENABLED=false
SSL_KEYFILE=/etc/letsencrypt/live/api.assignmentai.app/privkey.pem
SSL_CERTFILE=/etc/letsencrypt/live/api.assignmentai.app/fullchain.pem

#-------------------------------------------------------------------------------
# Frontend Configuration
#-------------------------------------------------------------------------------
VITE_API_URL=https://api.assignmentai.app
VITE_APP_URL=https://assignmentai.app
VITE_AUTH_TOKEN_KEY=auth_token_8f7d6e5c4b3a2d1e0f9g8h7i6j5k4l3m2n1o0p9q8r7s6t5u4v3w2x1y0z
VITE_REFRESH_TOKEN_KEY=refresh_token_1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7q8r9s0t1u2v3w4x5y6z7a8b9c0d
VITE_CSRF_TOKEN_KEY=csrf_token_9z8y7x6w5v4u3t2s1r0q9p8o7n6m5l4k3j2i1h0g9f8e7d6c5b4a3z2y1x0w9v8u7t
VITE_API_TIMEOUT=10000
VITE_ENABLE_2FA=false
VITE_ENABLE_FILE_UPLOAD=true
VITE_MAX_FILE_SIZE=10485760
VITE_SENTRY_DSN=https://b75a4eebc240b507e0914bf05ff83cb8@o4508990596841472.ingest.us.sentry.io/4509346280833024
VITE_GA_TRACKING_ID=G-QWY9YNB5GC
VITE_STAGING_URL=http://localhost:3000
VITE_PRODUCTION_URL=https://www.assignmentai.app
VITE_STORAGE_BUCKET=assignmentaibucket
VITE_CDN_URL=https://www.assignmentai.app
VITE_RATE_LIMIT_WINDOW=60
VITE_MAX_REQUESTS_PER_WINDOW=100